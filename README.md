This project was created to document the creation of a PHP client and server communicating via the Thrift framework. To better learn and illustrate the use of Thrift, I wanted to build a simple, but non-trivial, project that offered functionality that might actually be useful.

This project defines a client that passes raw text to a server. The server uses the [Zemanta contextual intelligence engine](http://zemanta.com) to analyze the text for key topics and categorizations of the content. The article and its topics of interest are categorized using the [DMOZ](http://dmoz.org) and [Freebase](http://freebase.com) taxonomies. The communication that happens between client and server, of course, happens via a Thrift interface.

# Thrift

Directly from its project site in the [Apache Incubator](http://incubator.apache.org), [Thrift](http://incubator.apache.org/thrift/):

> Thrift is a software framework for scalable cross-language services development. It combines a software stack with a code generation engine to build services that work efficiently and seamlessly between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, Smalltalk, and OCaml.

Simply stated, Thrift is an RPC framework analogous to SOAP. It offers cross-language serialization capabilities, but with significantly lower overhead because Thift uses a binary format.

While not exactly new, is still new _enough_ that documentation is scarce and difficult to piece together. You might be okay if you're interested in creating a Java or Python thrift server. Similarly, there are a number of PHP clients documented, but if you're looking to stand up a PHP-based Thrift server, you're mostly shit out of luck. Until now.

## Installing Thrift

This has been documented elsewhere so I won't belabor things here. For OS X, I used [Matt Mueller's Guide](http://mattmueller.me/blog/installing-thrift-on-snow-leopard) to install Thrift 0.4.0 and had no trouble at all.

# Project Contents

## Contents

This repository contains everything required to standup and test the project's functionality.

* `gen-php/`

    The PHP server and client bindings generated by Thrift (i.e. `thrift -r --gen php:server zemantadecorator.thrift`). Additional clients for other [supported languages](http://wiki.apache.org/thrift/LanguageSupport) can be generated as needed.

* `lib/`

    The Thrift internals required to support the client and server bindings. These are created during the Thrift installation and have been copied into the project for convenience. In an enterprise solution, these would likely be linked directly from the Thrift installation directory (`<thrift install path>/lib`).

* `server/`

    The Thrift server created atop the internals and exposed via HTTP for client access.

* `test/`

    A PHP Thrift client specifically built to test the server implementation. This directory also includes a number of sample text files that will be analyzed randomly when the client app is loaded into a browser.

* `zemantdecorator.thrift`

    The Thrift interface definition file.
